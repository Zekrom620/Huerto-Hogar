<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Productos - Huerto Hogar</title>

  <!-- Tipografías -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Playfair+Display&display=swap" rel="stylesheet">

  <!-- Estilos -->
  <link rel="stylesheet" href="css/estilos-base.css" />
  <link rel="stylesheet" href="css/estilos-tienda.css" />
</head>
<body>

  <!-- ========== HEADER ========== -->
  <header class="header">
    <div class="logo">Huerto Hogar</div>
    <nav class="menu">
      <a href="index.html">Home</a>
      <a href="productos.html" class="activo">Productos</a>
      <a href="nosotros.html">Nosotros</a>
      <a href="blogs.html">Blog</a>
      <a href="contacto.html">Contacto</a>
    </nav>
    <div id="header-usuario"></div>
    <div class="carrito">
  <a href="carrito.html">🛒 <span id="contador-carrito">0</span></a>
</div>
  </header>

  <!-- ========== TÍTULO DE LA PÁGINA ========== -->
  <section class="tienda-header">
    <h1>Todos los Productos</h1>
    <p>Elige entre nuestra variedad de productos frescos, orgánicos y sostenibles.</p>
  </section>

  <!-- ========== LISTADO DE PRODUCTOS ========== -->
  <section class="productos-tienda">
    <div class="productos-grid">
      <!-- Aquí se cargarán dinámicamente los productos -->
    </div>
  </section>

  <!-- Scripts -->
  <script src="js/usuarios.js"></script>
  <script src="js/validaciones.js"></script>
  <script src="js/carrito.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const contenedor = document.querySelector(".productos-grid");
      contenedor.innerHTML = "";

      // Categorías en orden
      const categorias = [
        "Frutas Frescas",
        "Verduras Orgánicas",
        "Productos Orgánicos",
        "Productos Lácteos"
      ];

      categorias.forEach(cat => {
        // Título de categoría
        const titulo = document.createElement("h2");
        titulo.textContent = cat;
        contenedor.appendChild(titulo);

        // Productos de esa categoría
        const productosCat = productos.filter(p => p.categoria === cat);

        productosCat.forEach(prod => {
          const div = document.createElement("div");
          div.classList.add("producto");

          div.innerHTML = `
            <a href="detalle-producto.html?producto=${prod.id}">
              <img src="${prod.imagen}" alt="${prod.nombre}">
              <h3>${prod.nombre}</h3>
            </a>
            <p class="precio">$${prod.precio.toLocaleString()} / ${prod.unidad}</p>
            <button>Añadir al carrito</button>
          `;

          // 🔹 Conectar botón al carrito
          div.querySelector("button").addEventListener("click", () => {
            agregarAlCarrito(prod);
          });

          contenedor.appendChild(div);
        });
      });
    });
  </script>
</body>
</html>
